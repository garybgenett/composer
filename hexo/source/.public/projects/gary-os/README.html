<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Composer CMS v2.0.beta8: Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Welcome to GaryOS (gary-os)
“The one file that does it all.”

Latest: GaryOS v3.0 (64-bit) (32-bit) (Release Notes) (License)
Homepage: https://github.com/garybgenett/gary-os
Download: https://sourcef">
<meta property="og:type" content="website">
<meta property="og:title" content="Composer CMS v2.0.beta8: Hexo">
<meta property="og:url" content="http://0.0.0.0:4000/projects/gary-os/README.html">
<meta property="og:site_name" content="Composer CMS v2.0.beta8: Hexo">
<meta property="og:description" content="Welcome to GaryOS (gary-os)
“The one file that does it all.”

Latest: GaryOS v3.0 (64-bit) (32-bit) (Release Notes) (License)
Homepage: https://github.com/garybgenett/gary-os
Download: https://sourcef">
<meta property="og:image" content="http://0.0.0.0:4000/icon.png">
<meta property="og:image" content="http://0.0.0.0:4000/screenshot_cli.png">
<meta property="og:image" content="http://0.0.0.0:4000/screenshot_gui.png">
<meta property="og:updated_time" content="2015-03-17T14:15:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Composer CMS v2.0.beta8: Hexo">
<meta name="twitter:description" content="Welcome to GaryOS (gary-os)
“The one file that does it all.”

Latest: GaryOS v3.0 (64-bit) (32-bit) (Release Notes) (License)
Homepage: https://github.com/garybgenett/gary-os
Download: https://sourcef">
  
    <link rel="alternative" href="/atom.xml" title="Composer CMS v2.0.beta8: Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '[object Object]', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Composer CMS v2.0.beta8: Hexo</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">a simple proof of concept</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/Test-page">Testing</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav"><a id="nav-googleplus-link" class="nav-icon" href="https://plus.google.com/Composer" target="_blank"></a> <a id="nav-facebook-link" class="nav-icon" href="https://www.facebook.com/Composer" target="_blank"></a> <a id="nav-linkedin-link" class="nav-icon" href="https://www.linkedin.com/Composer" target="_blank"></a> <a id="nav-twitter-link" class="nav-icon" href="https://twitter.com/Composer" target="_blank"></a> <a id="nav-github-link" class="nav-icon" href="https://github.com/Composer" target="_blank"></a>
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <script>function search_submit() { window.location.href = "https://duckduckgo.com?kp=-1&kz=-1&kv=1&kae=d&ko=1&q=site:http://0.0.0.0:4000 " + document.search_form.q.value; }</script><form action="javascript:search_submit();" name="search_form" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="page-undefined" class="article article-type-page" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/projects/gary-os/README.html" class="article-date">
  <time datetime="2015-10-17T15:53:51.943Z" itemprop="datePublished">2015-10-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Welcome_to_GaryOS_(gary-os)">Welcome to GaryOS (gary-os)</h1><hr>
<p><img src="icon.png" alt="GaryOS Icon" title="GaryOS Icon"><br>“The one file that does it all.”</p>
<ul>
<li>Latest: GaryOS v3.0 (<a href="http://sourceforge.net/projects/gary-os/files/gary-os-generic_64-funtoo-stable-v3.0.kernel" target="_blank" rel="external">64-bit</a>) (<a href="http://sourceforge.net/projects/gary-os/files/gary-os-generic_32-funtoo-stable-v3.0.kernel" target="_blank" rel="external">32-bit</a>) (<a href="#2015-03-16-v30-21811b59a8484b2a6b73e0c5277f23c50a0141dc0">Release Notes</a>) (<a href="https://github.com/garybgenett/gary-os/blob/master/LICENSE.md" target="_blank" rel="external">License</a>)</li>
<li>Homepage: <a href="https://github.com/garybgenett/gary-os" target="_blank" rel="external">https://github.com/garybgenett/gary-os</a></li>
<li>Download: <a href="https://sourceforge.net/projects/gary-os" target="_blank" rel="external">https://sourceforge.net/projects/gary-os</a></li>
</ul>
<hr>
<h4 id="Contents">Contents</h4><ul>
<li><a href="#overview">Overview</a><ul>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#version-history">Version History</a></li>
</ul>
</li>
<li><a href="#design">Design</a><ul>
<li><a href="#goals">Goals</a></li>
<li><a href="#rationale">Rationale</a></li>
<li><a href="#caveats">Caveats</a></li>
</ul>
</li>
<li><a href="#details">Details</a><ul>
<li><a href="#similar-projects">Similar Projects</a></li>
<li><a href="#tools">Tools</a></li>
<li><a href="#structure">Structure</a></li>
<li><a href="#customizing">Customizing</a></li>
</ul>
</li>
<li><a href="#use-cases">Use Cases</a><ul>
<li><a href="#forensics-recovery">Forensics &amp; Recovery</a></li>
<li><a href="#networking-configuration">Networking Configuration</a></li>
<li><a href="#minimal-xorg-gui">Minimal X.Org GUI</a></li>
<li><a href="#live-update">Live Update</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#windows-dual-boot">Windows Dual-Boot</a></li>
<li><a href="#grub-rescue">Grub Rescue</a></li>
<li><a href="#pxe-boot">PXE Boot</a></li>
</ul>
</li>
</ul>
<hr>
<h1 id="Overview">Overview</h1><p>GaryOS is an entire GNU/Linux system in a single bootable file.</p>
<p>While most boot/rescue systems use an ISO with SquashFS, GaryOS is<br>a single binary file consisting of a Linux kernel and a Funtoo/Gentoo<br>initramfs.  The file is generated using a customized Funtoo/Gentoo<br>configuration with a default Grml Linux kernel configuration via the<br>Metro automated build tool.</p>
<p>There are currently no major projects which take this same approach on<br>this scale.  The result is a smaller boot/rescue file that is just as<br>comprehensive, yet easier to deploy and manage.</p>
<p>A list of the primary advantages:</p>
<ul>
<li>Complete Funtoo/Gentoo system, with toolchain</li>
<li>Entire system resides in memory; does not require media after boot</li>
<li>Forensics mode is the default; no hard drives are mounted and swap<br>is disabled</li>
<li>Deployment flexibility; can be seamlessly used anywhere a Linux<br>kernel is supported, such as PXE or Microsoft Windows bootloader</li>
<li>Smaller footprint can easily fit on boot partition or USB media</li>
<li>Does not require disposable and fragile CD/DVD media</li>
</ul>
<p>The main disadvantages:</p>
<ul>
<li>Requires bootable media and configured bootloader (PXE, Grub, etc.)</li>
<li>Constrained in size; initramfs must compress to less than 500MB<br>hard-coded limit in Linux kernel</li>
<li>Boot time can be a bit longer/slower than other “live” systems</li>
</ul>
<p>GaryOS enables you to drop a single file on any media, point<br>a bootloader at it and go.  Upgrades are as simple as replacing the<br>file and/or adding another bootloader entry.</p>
<p>Rescue media is more likely to be available and up-to-date if it is<br>convenient to deploy and manage, which is one of the primary aims of<br>GaryOS.</p>
<p><img src="screenshot_cli.png" alt="GaryOS CLI Screenshot" title="GaryOS CLI Screenshot"></p>
<p><img src="screenshot_gui.png" alt="GaryOS GUI Screenshot" title="GaryOS GUI Screenshot"></p>
<h2 id="Quick_Start">Quick Start</h2><p>If you just want to check it out, you can run it inside any<br>virtualization program that can boot a Linux kernel directly.  On<br>a GNU/Linux system with Qemu installed, this can be as trivial as:</p>
<ul>
<li><code>DISPLAY=:0 qemu -m 4096 -kernel gary-os-[...].kernel</code></li>
</ul>
<p>To use it “for real”, simply point your bootloader (such as Grub) to the<br>file on disk.  In Grub, this looks like:</p>
<ul>
<li><code>linux gary-os-[...].kernel</code></li>
</ul>
<p>All the standard Linux kernel options/parameters are valid.  For<br>example, the amount of memory Linux allocates to itself can be specified<br>as usual:</p>
<ul>
<li><code>linux gary-os-[...].kernel mem=4096m</code></li>
</ul>
<p>A minimum of 2-3GB of RAM is required, but a minimum of 4GB is<br>recommended.  There are files for both <a href="http://sourceforge.net/projects/gary-os/files/gary-os-generic_64-funtoo-stable-v3.0.kernel" target="_blank" rel="external">64-bit</a> and <a href="http://sourceforge.net/projects/gary-os/files/gary-os-generic_32-funtoo-stable-v3.0.kernel" target="_blank" rel="external">32-bit</a> processors,<br>but only x86 platforms are supported.</p>
<p>Twice during boot, at initial kernel load and initramfs extraction, it<br>can appear to hang as the kernel/initramfs is extracted into memory.<br>This is normal, and only takes a few moments each.</p>
<p>Once booted, the entire system resides in memory.  It is a blank slate<br>with only two daemons running (Udev and SSH).  It does not touch any<br>disks or otherwise do anything you don’t tell it to.</p>
<ul>
<li><strong>Log in as <code>root</code> with password <code>gary-os</code>.</strong></li>
</ul>
<p>From there, whatever rescue/administrative work that needs to be done<br>can be accomplished, including using <code>emerge</code> to install or upgrade<br>packages.</p>
<p>The in-memory filesystem is a complete Funtoo/Gentoo installation, and<br>can be copied to a partition just like a standard <code>stage3</code> file.  GaryOS<br>goes one step further, however, since a Linux kernel has already been<br>prepared.  Simply configuring and installing Grub will result in<br>a ready-to-go Funtoo/Gentoo installation.</p>
<h2 id="Version_History">Version History</h2><h5 id="2015-03-16_v3-0_21811b59a8484b2a6b73e0c5277f23c50a0141dc-0">2015-03-16 v3.0 21811b59a8484b2a6b73e0c5277f23c50a0141dc.0</h5><ul>
<li>64-bit: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-generic_64-funtoo-stable-v3.0.kernel" target="_blank" rel="external">gary-os-generic_64-funtoo-stable-v3.0.kernel</a></li>
<li>32-bit: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-generic_32-funtoo-stable-v3.0.kernel" target="_blank" rel="external">gary-os-generic_32-funtoo-stable-v3.0.kernel</a></li>
<li>Metro/Grub scripts<ul>
<li>Release checklist in Metro script</li>
<li>General updates for upstream Metro changes/enhancements</li>
<li>Minor configuration updates for LVM, Postfix and Vim</li>
<li>Date variables for Funtoo/Grml upstream files/images</li>
<li>Warnings for non-matching upstream files/images</li>
<li>Miscellaneous syntax clean-up</li>
<li>Additional debugging option in Grub script</li>
<li>Updated list of Grub rescue modules</li>
<li>Grub rescue options variable</li>
</ul>
</li>
<li>Funtoo/Gentoo configuration<ul>
<li>Updated to new Portage commit</li>
<li>Minor improvements to audit/review scripting</li>
<li>Fixed <code>USE</code> variable, enabling Udev globally</li>
<li>Added additional input drivers, for touch devices</li>
<li>Added helper packages for networking and basic X.Org GUI scripting</li>
</ul>
</li>
</ul>
<h5 id="2014-06-19_v2-0_873ca4a3a4e6ff41e510dbcf2e0fe549fb23474d-0">2014-06-19 v2.0 873ca4a3a4e6ff41e510dbcf2e0fe549fb23474d.0</h5><ul>
<li>64-bit: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-generic_64-funtoo-stable-v2.0.kernel" target="_blank" rel="external">gary-os-generic_64-funtoo-stable-v2.0.kernel</a></li>
<li>32-bit: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-generic_32-funtoo-stable-v2.0.kernel" target="_blank" rel="external">gary-os-generic_32-funtoo-stable-v2.0.kernel</a></li>
<li>Metro/Grub scripts<ul>
<li>Added creation of package list files</li>
<li>Added <code>METRO_DEBUG</code> variable, for testing</li>
<li>Improved customization of <code>LDFLAGS</code> and <code>USE</code> variables</li>
<li>Better exemption handling for packages which fail to build</li>
<li>Fixed initrd build, so that it is more generally useful/applicable</li>
<li>Added documentation repository to commit tracking</li>
<li>Included Git repository in root filesystem, for reference</li>
<li>Moved Git repository handling to dedicated “git-export” function</li>
<li>Renamed example Grub disk image to a better extension</li>
</ul>
</li>
<li>Funtoo/Gentoo configuration<ul>
<li>Updated to new Portage commit</li>
<li>Complete review/revamp of USE flags</li>
<li>Added <code>LDFLAGS</code> variable options specific to Metro</li>
<li>Cleaned up “_overlay” directory</li>
<li>Improvements to audit/review scripting</li>
<li>Minor configuration updates/improvements</li>
<li>Localized failed package commenting to 32-bit</li>
<li>Revised package list, adding CLI (Command-Line Interface) helpers<br>and X.Org GUI, while pruning packages that are not as generally<br>useful or widely implemented<ul>
<li>In particular, removed custom Perl modules, Funtoo/Gentoo<br>developer/specialized packages, document processing utilities,<br>virtualization tools and media software</li>
<li>Previously, the X.Org GUI was a specific non-goal of the<br>project.  However, certain extremely useful packages (such as<br>Wireshark) required it.  The additional screen real-estate is<br>also useful for management of multiple terminals and<br>web-browsing for solutions to issues.  In order to meet these<br>needs, it was decided to incorporate X.Org GUI packages with<br>a minimal window manager footprint.</li>
<li>CLI interface remains the default (see <a href="#minimal-xorg-gui">Minimal X.Org GUI</a><br>section for information on loading up and using the graphical<br>environment).</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="2014-03-13_v1-1_95ad4fd257697618bae7402d4bc3a27499035d30-4">2014-03-13 v1.1 95ad4fd257697618bae7402d4bc3a27499035d30.4</h5><ul>
<li>64-bit: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-generic_64-funtoo-stable-v1.1.kernel" target="_blank" rel="external">gary-os-generic_64-funtoo-stable-v1.1.kernel</a></li>
<li>32-bit: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-generic_32-funtoo-stable-v1.1.kernel" target="_blank" rel="external">gary-os-generic_32-funtoo-stable-v1.1.kernel</a></li>
<li>Metro/Grub scripts<ul>
<li>Added Linux kernel configurations from Grml, to provide more<br>comprehensive and flexible hardware/feature support</li>
<li>Created Grub script, for rescue and dual-boot</li>
<li>Syntax and formatting clean-up</li>
</ul>
</li>
<li>Funtoo/Gentoo configuration<ul>
<li>Miscellaneous package changes</li>
</ul>
</li>
</ul>
<h5 id="2014-02-28_v1-0_95ad4fd257697618bae7402d4bc3a27499035d30-3">2014-02-28 v1.0 95ad4fd257697618bae7402d4bc3a27499035d30.3</h5><ul>
<li>64-bit: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-generic_64-funtoo-stable-v1.0.kernel" target="_blank" rel="external">gary-os-generic_64-funtoo-stable-v1.0.kernel</a></li>
<li>32-bit: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-generic_32-funtoo-stable-v1.0.kernel" target="_blank" rel="external">gary-os-generic_32-funtoo-stable-v1.0.kernel</a></li>
<li>Metro script<ul>
<li>Completed support for both 64-bit and 32-bit builds</li>
<li>Switched to <code>generic</code> for all builds</li>
<li>Removed <code>-fomit-frame-pointer</code> GCC flag</li>
<li>Removed Grub customizations</li>
<li>Re-added <code>/boot</code> and <code>/var/db/pkg</code> directories, so the initramfs<br>can be used as a “stage3” replacement</li>
<li>Added release/distribution processing</li>
</ul>
</li>
<li>Funtoo/Gentoo configuration<ul>
<li>Commented packages that broke during 32-bit build</li>
</ul>
</li>
</ul>
<h5 id="2014-02-24_v0-3_95ad4fd257697618bae7402d4bc3a27499035d30-2">2014-02-24 v0.3 95ad4fd257697618bae7402d4bc3a27499035d30.2</h5><ul>
<li>64-bit: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-core2_64-funtoo-stable-v0.3.kernel" target="_blank" rel="external">gary-os-core2_64-funtoo-stable-v0.3.kernel</a></li>
<li>Metro script<ul>
<li>Consolidated kernel/initrd into single kernel/initramfs file</li>
<li>Added initial support for both 64-bit and 32-bit builds</li>
</ul>
</li>
<li>Funtoo/Gentoo configuration<ul>
<li>Updated build/installation script with code to expand Metro<br>“stage3” files for testing package builds and fixing breaks</li>
<li>Customized package list and USE flags for Metro build, to reduce<br>size of installation to below 500MB Linux kernel limit</li>
<li>Completely removed X, Java and TeX Live / LaTeX</li>
<li>Added sound and miscellaneous media packages</li>
</ul>
</li>
</ul>
<h5 id="2014-02-13_v0-2_95ad4fd257697618bae7402d4bc3a27499035d30-1">2014-02-13 v0.2 95ad4fd257697618bae7402d4bc3a27499035d30.1</h5><ul>
<li>64-bit kernel: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-core2_64-funtoo-stable-v0.2.kernel" target="_blank" rel="external">gary-os-core2_64-funtoo-stable-v0.2.kernel</a></li>
<li>64-bit initrd: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-core2_64-funtoo-stable-v0.2.initrd" target="_blank" rel="external">gary-os-core2_64-funtoo-stable-v0.2.initrd</a></li>
<li>Metro script<ul>
<li>Added revision handling</li>
</ul>
</li>
<li>Funtoo/Gentoo configuration<ul>
<li>Added packages from Grml and SystemRescueCD package lists</li>
<li>Enabled <code>gpm</code> USE flag</li>
</ul>
</li>
</ul>
<h5 id="2014-02-09_v0-1_95ad4fd257697618bae7402d4bc3a27499035d30-0">2014-02-09 v0.1 95ad4fd257697618bae7402d4bc3a27499035d30.0</h5><ul>
<li>64-bit kernel: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-core2_64-funtoo-stable-v0.1.kernel" target="_blank" rel="external">gary-os-core2_64-funtoo-stable-v0.1.kernel</a></li>
<li>32-bit initrd: <a href="http://sourceforge.net/projects/gary-os/files/gary-os-core2_64-funtoo-stable-v0.1.initrd" target="_blank" rel="external">gary-os-core2_64-funtoo-stable-v0.1.initrd</a></li>
<li>Metro script<ul>
<li>Initial proof of concept, with separate kernel/initrd files</li>
</ul>
</li>
<li>Funtoo/Gentoo configuration<ul>
<li>Active personal configuration at time of build</li>
<li>Commented packages that broke</li>
</ul>
</li>
</ul>
<hr>
<h1 id="Design">Design</h1><p>GaryOS was not really “designed”, per se.  It just kind of happened<br>organically.  Any lack of production value to the code is a result of<br>that.</p>
<p>Initially, the goal was just to learn the Metro system so I could roll<br>my own “stage3” files.  As I continued to merge in my configuration<br>customizations, the difference between a “stage3” and a system that<br>could be run “live” began to disappear.</p>
<p>In parallel, explorations of Buildroot/Busybox introduced me to the<br>embedded initramfs concept, and gave me the idea to package the guts of<br>the “stage3” files from Metro into a Linux kernel for a relatively novel<br>“live” OS.</p>
<p>If not for my life partner, Rachel, it all would have stopped there.<br>Her prodding to “go for it” pushed me from just thinking about<br>publishing this as an opensource project into actually doing it.</p>
<p>I did not name the project GaryOS out of any delusions of grandeur or<br>egomania.  Indeed, the name was coined not by me but two very good<br>friends of mine, Steve and Colin, who used to (and still do) poke fun at<br>the amount of time and effort I spent/spend tuning and customizing my<br>computing environment.  They jokingly called my workstation “GaryOS”,<br>when it was really nothing more than a heavily personalized and<br>automated system using the tools and configuration options made<br>available by all the projects whose software I use.  Since GaryOS really<br>is nothing more than my own “wrapping” on the more mature work of<br>others, it seemed fitting to name the project as such in<br>a tongue-in-cheek and somewhat self-deprecating manner.</p>
<p>That final point is worth re-iterating: GaryOS is 95%+ the work of other<br>projects.  All I’ve done is tie things together in a way I find novel,<br>appealing and useful.</p>
<h2 id="Goals">Goals</h2><p>While not originally “designed” in the traditional sense, GaryOS does<br>have clear structure and requirements.</p>
<p>Top requirements:</p>
<ul>
<li>Bootable from a single kernel file, using initramfs</li>
<li>Based on Funtoo/Gentoo, using “stage3” build automation</li>
<li>Generic kernel/build configuration; should run on most modern x86<br>platforms (both 64-bit and 32-bit)</li>
<li>Minimal customization of default installation, outside of package<br>build tuning (i.e. “portage” configuration)</li>
<li>Make Funtoo/Gentoo installation trivial as a “live” media</li>
<li>All-purpose, multi-OS rescue environment</li>
</ul>
<p>Other objectives:</p>
<ul>
<li>Widely deployable; support PXE and native dual-booting with other<br>popular OSes, such as Windows and Mac OS X</li>
<li>Learning environment for those new to GNU/Linux or Funtoo/Gentoo</li>
<li>Example configuration and scripts for tuning and maintaining<br>a Funtoo/Gentoo system</li>
<li>Maintain DIY (Do It Yourself) approach; favor documentation and<br>instructions over helper scripts</li>
<li>Provide upstream enhancements to “stage3” automation</li>
</ul>
<p>Explicit non-goals:</p>
<ul>
<li>Growing bigger than a single kernel file</li>
<li>Customization or deep branding of overall system</li>
<li>Development of helper scripts/commands library, or customization of<br>boot and “init” infrastructure</li>
<li>Becoming a complete desktop environment (minimal X.Org GUI only)</li>
</ul>
<h2 id="Rationale">Rationale</h2><p>I thought it important to document my thoughts regarding the good deal<br>of focus on the “single bootable file” aspect of GaryOS as its primary<br>differentiator from other “live” systems.</p>
<p>The number of “live” systems, for everything from basic rescue to a full<br>workstation, is quite staggering.  Not all that long ago, building a new<br>“live” system required quite a bit of creativity and expertise.<br>Projects like KNOPPIX had provided a methodology, but the implementation<br>was very specific to the project.  It wasn’t until Debian created their<br>Debian Live project, to automate creation of their installation media,<br>that “live” technology really blossomed.  Subsequently, a number of<br>projects using forks of this system emerged, including the perennially<br>useful Grml.  It is much easier to create a new or forked “live” system<br>today than it was a couple years ago.</p>
<p>Personally, I think the real value of GaryOS is as a bootstrap media for<br>installing Funtoo/Gentoo, which was really my original focus when<br>exploring Metro.  Funtoo/Gentoo can be installed pretty much from any<br>system, using a “stage3” and “chroot”.  Getting from there to a basic<br>system ready to be booted can take a bit of time and effort, though, and<br>GaryOS can be a very useful tool for getting to a “half-way mark” of<br>sorts.  A functioning bootloader and kernel, along with a good many<br>tools already installed, can make getting over the installation hump<br>a bit easier.  I’ve often wondered if the lack of a “ready-to-go”<br>Funtoo/Gentoo system has hampered growth of the user-base, as<br>inexperienced users gravitate towards more ready-made and<br>marketing-savvy distributions like Ubuntu.</p>
<p>Getting back to a “single bootable file” in comparison to traditional<br>ISO-based “live” systems, ISO files have a couple options for use:</p>
<ol>
<li>Write to CD/DVD media, and boot from there</li>
<li>Write directly to USB media, and boot from there</li>
<li>Extract to USB media, and install/configure bootloader manually</li>
<li>Manually extract kernel, initrd and SquashFS to media, and<br>configure bootloader similarly to ISO bootloader (usually ISOLINUX)</li>
<li>Boot ISO file directly, using “loop” functionality of bootloader</li>
</ol>
<p>The challenges and issues with each approach:</p>
<ol>
<li>USB drives are a much more convenient and usable boot media than<br>CDs/DVDs these days.  They are easier to carry, harder to damage<br>and more ubiquitous (modern servers and laptops often don’t have<br>CD/DVD drives, but they all have USB).  CDs/DVDs are also not as<br>re-usable as USB drives.</li>
<li>Both the options for transferring ISO media to USB are less than<br>ideal.  This is the more convenient case, but requires you to erase<br>the rest of the contents of the drive.</li>
<li>This case preserves other data on the drive at the expense of<br>complexity.  In both ISO media to USB cases, upgrading the ISO to<br>a new version is not as trivial as it should be.</li>
<li>I personally use this method, and it works relatively well.<br>However, it took a bit of time and patience to figure out how to<br>make it work, and upgrades still take a bit of diligence each time;<br>file names and locations often change, as do boot options and other<br>key values.</li>
<li>Grub provides the necessary “loop” functionality, but this works by<br>creating a “fake” CD/DVD-ROM drive that the booting OS can use,<br>essentially requiring a small Grub footprint to stay in memory and<br>for the boot media to stay connected through the entirety of the<br>session.  It also requires the “live” system to support booting in<br>this manner.</li>
</ol>
<p>The reason ISO files continue to be the standard package for “live”<br>systems is capacity and convenience.  Outside of the Linux initramfs<br>method employed by GaryOS, there is no better way to package an entire<br>system into a single file that is ready to be booted in any number of<br>ways.  As covered earlier, using a Linux initramfs limits the size of<br>the system that can be packaged.  Thanks to modern compression<br>algorithms, GaryOS is able to get a roughly 2GB root filesystem<br>delivered.  Most of the ISO systems deliver root filesystems much larger<br>than this.</p>
<p>I personally continue to employ #4 above to keep a selection of “live”<br>systems available on the boot media I carry with me everywhere.  Systems<br>like Grml are still what I use when I need an immediate desktop or to<br>demonstrate the power and flexibility of GNU/Linux systems.  However,<br>for rescue, recovery and installation, GaryOS has become my first pick<br>since it has all the tools I need configured the way I want them.  If<br>I could only have one file available, it would be GaryOS, which is why<br>this project exists.</p>
<p>The reader, of course, must make up their own mind about what is best<br>for them.</p>
<h2 id="Caveats">Caveats</h2><p>Humans are not perfect, and rarely is anything we create.  I’m proud of<br>this project, but also want to be clear about its shortcomings.</p>
<p>Most notable is the code I’ve written to produce this.  The coding style<br>I use was grown organically, and is not based on any of the well-known<br>syntax and style guides used by other projects.  While consistent and<br>generally readable, there are a couple specific areas I’d like to<br>comment on, in order to avoid the appearance of ignorance, negligence or<br>just plain bad habits:</p>
<ul>
<li>Comments<ul>
<li>There are few, if any, of them.  Most of the code is pretty<br>self-explanatory, at least to me, but may not be readily<br>digestible by others without documentation of the thought-process.</li>
</ul>
</li>
<li>Columns<ul>
<li>I don’t try to be POSIX or any other type of compliance when<br>scripting for fun.  Since I work on big monitors, I tend to make<br>my coding/writing terminals <strong>HUGE</strong>.  Reading or modifying on an<br>80x25 terminal will frustrate you as much as it does me.</li>
</ul>
</li>
<li>Tabs<ul>
<li>I use them everywhere.  This is not an issue really, except that<br>I’ve broken two of the ancient spacing rules:<ol>
<li>In some places, I mix spaces and tabs intentionally</li>
<li>I regularly use tabs for non-leading space</li>
</ol>
</li>
<li>Changing the “tab stop” to anything other than “8” will make the<br>formatting look even more ugly than it already is.</li>
</ul>
</li>
<li>Syntax<ul>
<li>I use explicit syntax everywhere, all the time.  This keeps the<br>code consistent and therefore readable, in my humble opinion, but<br>it also adds a lot more characters.  Some say they hate it and<br>that it makes their eyes bleed.</li>
</ul>
</li>
<li>Options<ul>
<li>There really aren’t any.  Most of the configurability is<br>implemented in the form of variables at the top of each script.<br>Where there are command-line options, they are rudimentary and<br>undocumented.  Someday I should add real argument processing and<br>the helpful “usage” output any reasonable user would expect.</li>
</ul>
</li>
<li>Cleverness<ul>
<li>I could use more of it.  In a couple places, I could use a lot<br>less.  I’m positive that I’ve taken the long route in a number of<br>cases.  There’s a ton of “sed” and “piping” everywhere.  Error<br>handling is best-effort.  I probably should have done this all in<br>something more powerful, like Perl.</li>
</ul>
</li>
<li>Salesmanship<ul>
<li>I’ve written much prettier code that I can’t or won’t share, so<br>this is one of the few public examples of my work at the current<br>time.  Hopefully it doesn’t turn away any potential employers.</li>
</ul>
</li>
</ul>
<p>Another area of mention is the source code and repository management.<br>The configuration and coding history for this project resides in several<br>different personal repositories.  The process used to pull the<br>individual commits out of each repository and consolidate them together<br>into the unified one that’s been made public is all documented in the<br>“metro.sh” script.  As a matter of fact, the vast majority of that<br>script, which began life as a simple wrapper to Metro, is now the code<br>used to package and release GaryOS.  The long and short of it is that<br>even minor disruptions to my personal repositories (such as a “rebase”),<br>or inclusion of other components/scripts into the GaryOS repository,<br>will result in a public repository that can not use the “fast-forward”<br>feature of Git and requires re-cloning.  I will endeavor to avoid this,<br>but the risk does exist.</p>
<p>The final concern would be supportability.  This is a mostly personal<br>project that I plan to update at least twice a year, but I don’t have<br>a copious amount of free time with which to support and enhance this<br>project.</p>
<p>Buyer beware.  You own all the pieces.</p>
<p>Other than that, GaryOS should be rock-solid.  ;^)</p>
<hr>
<h1 id="Details">Details</h1><p>In this section, I will try to outline the key pieces which make GaryOS<br>tick.  The work will still pretty much speak for itself, but some<br>explanation of what all the stuff in this repository is will likely be<br>beneficial to anyone curious enough to have read this far.</p>
<p>Most of what is needed to use the contents of this repository is<br>contained in the <a href="#structure">Structure</a> and <a href="#customizing">Customizing</a> sections below.</p>
<h2 id="Similar_Projects">Similar Projects</h2><p>Since the creation of GaryOS, I’ve discovered the following projects<br>during ongoing research:</p>
<ul>
<li>Better-Initramfs: <a href="https://github.com/slashbeast/better-initramfs" target="_blank" rel="external">https://github.com/slashbeast/better-initramfs</a></li>
<li>Aboriginal Linux: <a href="http://landley.net/aboriginal/about.html" target="_blank" rel="external">http://landley.net/aboriginal/about.html</a></li>
</ul>
<p>GaryOS shares many of the same goals and attributes/features as these<br>projects.  The primary difference being that both these projects strive<br>to be minimalist and/or otherwise purely rescue/development focused.<br>GaryOS instead tries to be as complete an environment as possible while<br>still fitting in an initramfs.</p>
<p>Both projects are pretty damn awesome.</p>
<h2 id="Tools">Tools</h2><p>All the real heavy-lifting is accomplished using these tools/projects:</p>
<ul>
<li>Metro: <a href="http://www.funtoo.org/Metro_Quick_Start_Tutorial" target="_blank" rel="external">http://www.funtoo.org/Metro_Quick_Start_Tutorial</a></li>
<li>Funtoo: <a href="http://www.funtoo.org" target="_blank" rel="external">http://www.funtoo.org</a></li>
<li>Gentoo: <a href="http://www.gentoo.org" target="_blank" rel="external">http://www.gentoo.org</a></li>
<li>Linux Initramfs: <a href="http://www.kernel.org/doc/Documentation/filesystems/ramfs-rootfs-initramfs.txt" target="_blank" rel="external">http://www.kernel.org/doc/Documentation/filesystems/ramfs-rootfs-initramfs.txt</a></li>
</ul>
<p>Inspiration was provided by:</p>
<ul>
<li>Buildroot: <a href="http://buildroot.uclibc.org" target="_blank" rel="external">http://buildroot.uclibc.org</a></li>
<li>BusyBox: <a href="http://www.busybox.net" target="_blank" rel="external">http://www.busybox.net</a></li>
<li>StaticPerl: <a href="http://software.schmorp.de/pkg/App-Staticperl.html" target="_blank" rel="external">http://software.schmorp.de/pkg/App-Staticperl.html</a></li>
</ul>
<p>Kernel configuration, package lists and acknowledgments to:</p>
<ul>
<li>Grml: <a href="http://grml.org" target="_blank" rel="external">http://grml.org</a></li>
<li>SystemRescueCd: <a href="http://www.sysresccd.org/SystemRescueCd_Homepage" target="_blank" rel="external">http://www.sysresccd.org/SystemRescueCd_Homepage</a></li>
</ul>
<p>Homage to those who started it all:</p>
<ul>
<li>tomsrtbt: <a href="http://www.toms.net/rb" target="_blank" rel="external">http://www.toms.net/rb</a></li>
<li>KNOPPIX: <a href="http://www.knopper.net/knoppix/index-en.html" target="_blank" rel="external">http://www.knopper.net/knoppix/index-en.html</a></li>
<li>Debian Live: <a href="http://live.debian.net" target="_blank" rel="external">http://live.debian.net</a></li>
</ul>
<p>Special thanks to the sites which made worldwide distribution possible:</p>
<ul>
<li>SourceForge: <a href="https://sourceforge.net" target="_blank" rel="external">https://sourceforge.net</a></li>
<li>GitHub: <a href="https://github.com" target="_blank" rel="external">https://github.com</a></li>
</ul>
<p>GitHub was instrumental in inspiring me to publish this project, but<br>SourceForge provided the distribution platform which made it possible to<br>reach an international audience overnight.</p>
<h2 id="Structure">Structure</h2><p>Here is documented the overall structure of the repository, along with<br>details for the individual components.</p>
<h5 id="Top_level_directory">Top level directory</h5><ul>
<li>Distribution:<ul>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/README.md" target="_blank" rel="external">README.md</a><ul>
<li>This file.  All the documentation for GaryOS.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/LICENSE.md" target="_blank" rel="external">LICENSE.md</a><ul>
<li>The license GaryOS is distributed under.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/icon.png" target="_blank" rel="external">icon.png</a><ul>
<li>Creative “hack” to have an icon for the project.  Icons make<br>it seem like you are “for real”, so I had to have one.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/screenshot_cli.png" target="_blank" rel="external">screenshot_cli.png</a><ul>
<li>Pretty self-explanatory.  Snapshot of what booting v1.0 looked<br>like, for promotion, reference and posterity.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/screenshot_gui.png" target="_blank" rel="external">screenshot_gui.png</a><ul>
<li>Also self-explanatory.  Snapshot of the what the initial X.Org<br>GUI in v2.0 looked like.</li>
</ul>
</li>
</ul>
</li>
<li>Release:<ul>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/_commit" target="_blank" rel="external">_commit</a><ul>
<li>Primarily for my tracking, records commit IDs for each of the<br>public and private repositories relevant to the building of<br>GaryOS.  Updated each release.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/_config.64" target="_blank" rel="external">_config.64</a>,<br><a href="https://github.com/garybgenett/gary-os/blob/master/_config.32" target="_blank" rel="external">_config.32</a><ul>
<li>Linux kernel configurations used for the 64-bit and 32-bit<br>builds, respectively.  These are extracted from Grml ISOs<br>using “extract-ikconfig” in the “metro.sh” script.  Updated<br>each release.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/_packages.64" target="_blank" rel="external">_packages.64</a>,<br><a href="https://github.com/garybgenett/gary-os/blob/master/_packages.32" target="_blank" rel="external">_packages.32</a><ul>
<li>Final package lists for the 64-bit and 32-bit builds,<br>respectively.  These are generated from the “initrd” files in<br>the “metro.sh” script.  Updated each release.</li>
</ul>
</li>
</ul>
</li>
<li>Production:<ul>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/.bashrc" target="_blank" rel="external">.bashrc</a><ul>
<li>My personal Bash configuration file, and also the scripting<br>library I use for almost all of my personal scripts.  Several<br>variables and functions are sourced from this file, and it was<br>easier to just include it into this project than to replicate<br>all of the referenced pieces.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo" target="_blank" rel="external">gentoo</a><ul>
<li>Contains the entirety of my personal Funtoo/Gentoo<br>configuration, including the scripts and files I use to manage<br>my Funtoo/Gentoo installations.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/scripts" target="_blank" rel="external">scripts</a><ul>
<li>All the code used to create GaryOS lives in here.  Exported<br>from my personal scripts directory.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="Scripts_directory">Scripts directory</h5><ul>
<li>As you would expect, there are scripts in this directory:<ul>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/scripts/grub.sh" target="_blank" rel="external">grub.sh</a><ul>
<li>Used to produce two different types of Grub images.  One is<br>for dual-booting purposes with other OSes, such as Windows,<br>and the other is to have a Grub “rescue” installation which<br>does not require access to any hard drive partitions for its<br>modules or configuration.</li>
<li>Documented in more detail in the <a href="#windows-dual-boot">Windows Dual-Boot</a> and <a href="#grub-rescue">Grub<br>Rescue</a> sections under <a href="#use-cases">Use Cases</a>.</li>
<li>Not critical to GaryOS as a whole.  Mainly to simplify and<br>automate the use cases mentioned.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/scripts/metro.sh" target="_blank" rel="external">metro.sh</a><ul>
<li>In essence, this script <strong>IS</strong> GaryOS.</li>
<li>Contains all of the wrapping of Metro used to create “stage3”<br>files using the Funtoo/Gentoo customizations below.</li>
<li>Does the work of extracting “stage3” files and selectively<br>archiving them into “initrd” files.  The “initrd” files are<br>then compiled into the Linux kernel built inside the relevant<br>“stage3”.</li>
<li>Also houses the release process for GaryOS, which consists of<br>exporting patches from my personal repositories and<br>consolidating them into the final GaryOS repository.  It also<br>adds release “tags” and publishes GaryOS to GitHub and<br>SourceForge.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="Gentoo_directory_and_configuration">Gentoo directory and configuration</h5><ul>
<li>Scripts:<ul>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/.colorize" target="_blank" rel="external">.colorize</a><ul>
<li>Hackish attempt to add colorization to compile output.  It<br>works, but disrupts the sandbox environment and has caused<br>builds to break.  Not used anymore, but kept for posterity.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/.emergent" target="_blank" rel="external">.emergent</a><ul>
<li>Audit script which validates current Funtoo/Gentoo<br>configuration against Portage tools/output.  Reports back all<br>kinds of useful information, the most useful of which is<br>a list of USE flags and variables which have been added or<br>removed upstream.</li>
<li>Generally speaking, it is the first line of defense against<br>stale configuration options, unused/unconfigured new options<br>and configuration “snow” as a whole.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/.hacks" target="_blank" rel="external">.hacks</a><ul>
<li>An aptly-named script, it performs all kinds of miscellaneous<br>corrections, fixes and customizations which generally keep me<br>happy.</li>
</ul>
</li>
</ul>
</li>
<li>Management:<ul>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/_gentoo" target="_blank" rel="external">_gentoo</a><ul>
<li>Directory of “okay” files used by “.emergent” script above.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/_overlay" target="_blank" rel="external">_overlay</a><ul>
<li>Funtoo/Gentoo “overlay” directory.  Used very sparingly, and<br>mostly for fixing broken packages.</li>
<li>Fun side note: I wanted the “gkrellaclock” to look more like<br>a genuine “xclock”, so I hacked it into one.  This was my<br>first real experience coding in C.</li>
</ul>
</li>
</ul>
</li>
<li>Automation:<ul>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/_system" target="_blank" rel="external">_system</a><ul>
<li>This script is the workhorse of my Funtoo/Gentoo system, just<br>as “metro.sh” is the core driver of GaryOS.</li>
<li>Most commonly, run without any arguments to update Portage<br>tree and pre-fetch source files.</li>
<li>Often run with <code>-u</code> to completely update the installation,<br>based on recommendations from Funtoo/Gentoo documentation.</li>
<li>Used with <code>-[0/12]</code> options for completely automated “chroot”<br>installation.</li>
</ul>
</li>
</ul>
</li>
<li>Configuration:<ul>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/funtoo" target="_blank" rel="external">funtoo</a><ul>
<li>Contains the commit ID that the Funtoo Portage repository<br>should be “pinned” to.</li>
<li>Ties Funtoo/Gentoo configuration to a particular version of<br>the Portage tree, which ensures repeatability and stability.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/make.conf" target="_blank" rel="external">make.conf</a>,<br><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/package.keywords" target="_blank" rel="external">package.keywords</a>,<br><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/package.license" target="_blank" rel="external">package.license</a>,<br><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/package.mask" target="_blank" rel="external">package.mask</a>,<br><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/package.unmask" target="_blank" rel="external">package.unmask</a>,<br><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/package.use" target="_blank" rel="external">package.use</a><ul>
<li>Standard Funtoo/Gentoo Portage configuration files, documented<br>in <code>man portage</code>.</li>
<li>My personal configuration, most of which is carried over to<br>GaryOS.</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/savedconfig" target="_blank" rel="external">savedconfig</a><ul>
<li>Seemingly undocumented storage area for compile-time<br>configuration files.</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/savedconfig/x11-wm/dwm" target="_blank" rel="external">dwm</a>:<br>configuration for “dwm” window manager</li>
</ul>
</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/sets" target="_blank" rel="external">sets</a><ul>
<li>User-defined package “sets”, also documented in <code>man portage</code>.</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/sets/metro" target="_blank" rel="external">metro</a>:<br>used to create GaryOS.</li>
<li><a href="https://github.com/garybgenett/gary-os/blob/master/gentoo/sets/packages" target="_blank" rel="external">packages</a>:<br>my personal list for a complete workstation installation.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Customizing">Customizing</h2><p>Since these scripts and configurations were originally intended for<br>strictly personal use, they have a strong bias towards my directory<br>structure and processes.  They are admittedly ill-suited to ready use<br>under other circumstances.  Releasing the source of GaryOS is tantamount<br>to simply showing my work.</p>
<p>That said, I am a bit of a perfectionist and want all my code to be easy<br>to re-purpose, re-configure and generally support.  All of the scripts<br>have been written with variables for all files/directories involved, and<br>these variables are placed at the top of each script.  Pretty much<br>everything that would be configurable via a command-line option is<br>exposed as a variable.</p>
<p>Here are the primary directories and what I use them for:</p>
<ul>
<li><code>$HOME/setup/gentoo</code><ul>
<li>Funtoo/Gentoo configuration directory.  Full contents are in the<br>“gentoo” directory in this repository.</li>
<li>Replicated to “/etc/portage” regularly.</li>
</ul>
</li>
<li><code>/.g/_data/_build</code><ul>
<li>Directory for source repositories and temporary builds.  This is<br>ultimately a disposable working directory.</li>
</ul>
</li>
<li><code>/.g/_data/_builds</code><ul>
<li>Output of builds which I intend to keep/track.</li>
</ul>
</li>
<li><code>/.g/_data/_target/iso</code><ul>
<li>Where I keep all downloaded binary files.  Typically ISOs, there<br>are also miscellaneous files, like “stage3/portage” archives, and<br>documentation.</li>
</ul>
</li>
<li><code>/.g/_data/zactive</code><ul>
<li>My main data directory.  Most everything I create lives here.</li>
</ul>
</li>
<li><code>/.g/_toor</code><ul>
<li>Free partition, used for “chroot” builds and testing.</li>
</ul>
</li>
</ul>
<p>This is far from comprehensive, but should help map things out for<br>anyone with enough free time and curiosity.</p>
<p>In a perfect world, this section could be removed after the scripts were<br>cleaned up and documented properly.</p>
<hr>
<h1 id="Use_Cases">Use Cases</h1><p>Below are the primary use cases considered for GaryOS.  Each is tested<br>every release, and contains validation information.</p>
<p>These are also considered the “howto” instructions for each case.</p>
<h2 id="Forensics_&amp;_Recovery">Forensics &amp; Recovery</h2><ul>
<li>Definition:<ul>
<li>Boot into a completely “clean” environment, so that diagnostics<br>and/or recovery can be done in a read-only manner.</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>GaryOS v3.0</li>
</ul>
</li>
</ul>
<p>GaryOS is in a forensics mode by default.  Hardware scanning is<br>performed, but the hard drives are not mounted or otherwise touched.<br>All entries in <code>/etc/fstab</code> have been commented out.  As a result, swap<br>is also disabled.</p>
<p>Linux kernel options can further be used to disable hardware scanning<br>and interrogation.</p>
<p>It is a stated goal that forensics mode continue being the default.</p>
<h2 id="Networking_Configuration">Networking Configuration</h2><ul>
<li>Definition:<ul>
<li>Configure networking, either wired or wireless</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>GaryOS v3.0</li>
</ul>
</li>
</ul>
<p>No networking configuration or daemons are run by default, but several<br>networking packages are installed to ease on-the-fly setup.</p>
<p>For simple DHCP, the <code>dhcpcd</code> command can be run directly on the desired<br>interface, such as an Ethernet connection:</p>
<ul>
<li><code>dhcpcd eth0</code></li>
</ul>
<p>A more formal way of doing this would be to use the OpenRC scripts:</p>
<ul>
<li><code>rc-update add dhcpcd default ; rc</code></li>
</ul>
<p>For wireless networking, the NetworkManager package is available to<br>simplify the configuration:</p>
<ul>
<li><code>rc-update add NetworkManager default ; rc</code></li>
</ul>
<p>Wireless networks can then be scanned and configured:</p>
<ul>
<li><p>e.g. …</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">nmcli</span> <span class="tag">device</span> <span class="tag">wifi</span> <span class="tag">rescan</span></span><br><span class="line"><span class="tag">nmcli</span> <span class="tag">device</span> <span class="tag">wifi</span> <span class="tag">list</span></span><br><span class="line"><span class="tag">nmcli</span> <span class="tag">device</span> <span class="tag">wifi</span> <span class="tag">connect</span> <span class="attr_selector">[ssid]</span> <span class="tag">password</span> <span class="attr_selector">[password]</span></span><br><span class="line"><span class="tag">nmcli</span> <span class="tag">device</span> <span class="tag">status</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>The Funtoo OpenRC scripts have all sorts of advanced networking features<br>and options, covered in depth:<br><a href="http://www.funtoo.org/Networking" target="_blank" rel="external">http://www.funtoo.org/Networking</a></p>
<h2 id="Minimal_X-Org_GUI">Minimal X.Org GUI</h2><ul>
<li>Definition:<ul>
<li>Start up and use the X.Org GUI environment</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>GaryOS v3.0</li>
</ul>
</li>
</ul>
<p>GaryOS boots to CLI (Command-Line Interface) by default.  To enter the<br>graphical interface, run <code>startx</code>.</p>
<p>The Linux kernel includes driver modules for many common video cards,<br>but to keep the size of GaryOS down the X.Org installation only includes<br>the VESA driver (which almost all modern video cards support).  If the<br>kernel driver for a video card is loaded at boot, it will prevent X.Org<br>from taking over.  If you plan to run the graphical interface, use the<br><code>nomodeset</code> kernel option when booting to prevent Linux from loading any<br>video card drivers.</p>
<p>By default, the DWM window manager is used.  URxvt is the default<br>terminal emulator, and Surf is the default browser.  Both are wrapped<br>using the Tabbed utility.</p>
<p>Keyboard shortcuts:</p>
<ul>
<li>Use <code>ALT-SHIFT-ENTER</code> to launch terminal emulator.</li>
<li>Use <code>ALT-CTRL-ENTER</code> to launch web browser.</li>
</ul>
<p>More information:</p>
<ul>
<li>Read <code>man dwm</code> for help on the window manager.</li>
<li>Read <code>man tabbed</code> for help on the tabbing utility.</li>
<li>Read <code>man urxvt</code> for help on the terminal emulator.</li>
<li>Read <code>man surf</code> for help on the web browser.</li>
</ul>
<p>Thanks to the <a href="http://suckless.org" target="_blank" rel="external">Suckless</a> team for creating such<br>lightweight and useful software.</p>
<h2 id="Live_Update">Live Update</h2><ul>
<li>Definition:<ul>
<li>Update/install packages using Funtoo/Gentoo tools.</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>GaryOS v3.0, with 8GB memory</li>
</ul>
</li>
</ul>
<p>A complete Funtoo/Gentoo environment is available.  In order to<br>install/update packages, a couple of missing items need to be put into<br>place.  A surprising number of packages can be installed without filling<br>up the in-memory filesystem.</p>
<p>Instructions for setting up update/install of packages:</p>
<ol>
<li>Install “portage” tree.<ul>
<li><strong>Option 1:</strong> Synchronize tree as usual.<ul>
<li><code>emerge --sync</code></li>
</ul>
</li>
<li><strong>Option 2:</strong> Download <code>portage-*</code> archive from one of the <code>v#.#</code><br>version download directories; preferably from the one which<br>matches your version of GaryOS.  This option is best if you plan<br>to keep this file on the same media along side the GaryOS kernel<br>file(s).  To extract:<ul>
<li><code>tar -pvvxJ -C /usr -f portage-[...].tar.xz</code></li>
</ul>
</li>
<li>Generally speaking, “Option 1” is a smaller/faster download than<br>“Option 2”.  However, “Option 2” has the benefit of offline<br>access, and may be simpler to update from since it is at the same<br>revision of the tree that was used to build that version of<br>GaryOS.</li>
</ul>
</li>
<li><p>Perform minor hacks to get working in a RAMdisk environment.  These<br>should <strong>NOT</strong> be done if planning to install to disk per the<br><a href="#installation">Installation</a> section below.  They essentially disable available<br>space checks, since the “portage” scripts expect to be using<br>a physical disk.  Commands to run:</p>
<ul>
<li><p>…</p>
 <figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">"s%has_space = False%has_space = True%g"</span> \</span><br><span class="line">    <span class="regexp">/usr/</span>lib<span class="regexp">/portage/</span>pym<span class="regexp">/portage/</span><span class="keyword">package</span><span class="regexp">/ebuild/</span>fetch.py</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>alias emerge=&quot;I_KNOW_WHAT_I_AM_DOING=true emerge&quot;</code></p>
<ul>
<li>For details, see <code>&quot;There is NOT at least&quot;</code> in<br><code>/usr/portage/eclass/check-reqs.eclass</code></li>
</ul>
</li>
</ul>
</li>
<li>Make desired edits to <code>/etc/portage</code> configuration.<ul>
<li>In particular, to complete configuration of the X.Org GUI the<br><code>INPUT_DEVICES</code> and <code>VIDEO_CARDS</code> variables should be properly<br>configured.</li>
<li>Starting with <code>bindist</code>, there is a list of negated <code>-*</code> options<br>at the end of the <code>USE</code> list which are necessary to build GaryOS<br>via Metro.  All of these can/should be removed to get the full<br>non-Metro configuration.</li>
</ul>
</li>
<li>Use all “portage” commands as usual.<ul>
<li>e.g. <code>emerge firefox</code></li>
</ul>
</li>
</ol>
<h2 id="Installation">Installation</h2><ul>
<li>Definition:<ul>
<li>Install GaryOS to disk as a “stage3” build.</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>GaryOS v3.0</li>
</ul>
</li>
</ul>
<p>The in-memory environment is a complete Funtoo/Gentoo installation, as<br>shown in the <a href="#live-update">Live Update</a> section above.  It can be copied directly to<br>a new disk/partition and booted as a fresh installation.</p>
<p>Instructions for installing to disk:</p>
<ol>
<li>Mount formatted disk/partition.<ul>
<li>e.g. <code>mke2fs -t ext4 -jv /dev/sda2</code></li>
<li>e.g. <code>mount /dev/sda2 /mnt</code></li>
</ul>
</li>
<li>If you wish for <code>/boot</code> to be on a separate partition, mount that<br>location in the target.<ul>
<li>e.g. <code>mkdir /mnt/boot</code></li>
<li>e.g. <code>mount /dev/sda1 /mnt/boot</code></li>
</ul>
</li>
<li><p>Copy in-memory filesystem to installation target.</p>
<ul>
<li><p>e.g. …</p>
 <figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">rsync -avv <span class="string">\</span></span><br><span class="line">    --filter=-_<span class="pi">/dev/</span>** <span class="string">\</span></span><br><span class="line">    --filter=-_<span class="pi">/mnt/</span>** <span class="string">\</span></span><br><span class="line">    --filter=-_<span class="pi">/proc/</span>** <span class="string">\</span></span><br><span class="line">    --filter=-_<span class="pi">/run/</span>** <span class="string">\</span></span><br><span class="line">    --filter=-_<span class="pi">/sys/</span>** <span class="string">\</span></span><br><span class="line">    / /mnt</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Add necessary partition information to <code>/etc/fstab</code>, remembering an<br>entry for <code>/boot</code> if using a separate partition from #2 above.</p>
<ul>
<li>e.g. <code>vi /mnt/etc/fstab</code></li>
</ul>
</li>
<li>Update and install Grub, to make the new installation bootable.<ul>
<li>e.g. <code>for FILE in dev proc sys ; do mount --bind /${FILE} /mnt/${FILE} ; done</code></li>
<li>e.g. <code>chroot /mnt grub-install /dev/sda</code></li>
<li>e.g. <code>chroot /mnt boot-update</code></li>
</ul>
</li>
<li>Reboot into new installation, update <code>/etc/portage</code> configuration,<br>install “portage” tree and update/install packages as desired.</li>
<li><strong>Don’t forget to change <code>hostname</code> and update <code>root</code> password!</strong></li>
</ol>
<h2 id="Windows_Dual-Boot">Windows Dual-Boot</h2><ul>
<li>Definition:<ul>
<li>Boot using the native Windows bootloader.</li>
<li>No modifications to the hard drive partitions or boot records.</li>
<li>Do not require any files outside of <code>C:</code> in the Windows<br>installation.</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>GaryOS v3.0</li>
<li>MBR/GPT only; EFI not built or tested</li>
<li>Windows 7 Ultimate SP1 64-bit</li>
<li>Grub: sys-boot/grub-2.02_beta2-r3</li>
</ul>
</li>
<li>Research and development:<ul>
<li><a href="http://lists.gnu.org/archive/html/help-grub/2013-08/msg00005.html" target="_blank" rel="external">http://lists.gnu.org/archive/html/help-grub/2013-08/msg00005.html</a><ul>
<li><a href="http://blog.mudy.info/2010/08/boot-grub2-stage2-directly-from-windows-bootmgr-with-grub4dos-stage1" target="_blank" rel="external">http://blog.mudy.info/2010/08/boot-grub2-stage2-directly-from-windows-bootmgr-with-grub4dos-stage1</a></li>
</ul>
</li>
<li><a href="https://wiki.archlinux.org/index.php/Windows_and_Arch_Dual_Boot#Using_Windows_boot_loader" target="_blank" rel="external">https://wiki.archlinux.org/index.php/Windows_and_Arch_Dual_Boot#Using_Windows_boot_loader</a><ul>
<li><a href="http://www.iceflatline.com/2009/09/how-to-dual-boot-windows-7-and-linux-using-bcdedit" target="_blank" rel="external">http://www.iceflatline.com/2009/09/how-to-dual-boot-windows-7-and-linux-using-bcdedit</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>For convenience and supportability, this case has been mostly automated<br>in the <code>grub.sh</code> script.  The <code>gary-os.grub.*</code> file in the root download<br>directory contains an archive of the output of this script.</p>
<p>Overview of the script:</p>
<ul>
<li>When run without arguments, it creates a series of Grub images and<br>configuration files in the current directory.</li>
<li>When run with a single block device argument, the target device will<br>be used for installation of the “rescue” Grub image, rather than the<br>example disk image file.</li>
</ul>
<p>Overview of the output:</p>
<ul>
<li><code>bcdedit.bat</code><ul>
<li>Used to install/remove the necessary entries from the Windows<br>bootloader database.</li>
</ul>
</li>
<li><code>bootstrap.*</code><ul>
<li>Grub “core.img” and configuration loaded from the Windows<br>bootloader.  Uses the directory added to <code>C:</code> (instructions below)<br>for modules (such as <code>i386-pc</code> directory) and menu configuration.</li>
</ul>
</li>
<li><code>grub.cfg</code><ul>
<li>Grub menu used by “bootstrap” above.  Can be modified as needed to<br>boot other OSes/objects.</li>
</ul>
</li>
<li><code>rescue.*</code><ul>
<li>Grub “core.img” rescue environment detailed further in <a href="#grub-rescue">Grub<br>Rescue</a> section below.</li>
</ul>
</li>
<li><code>rescue_example.raw</code><ul>
<li>Hard disk image file example of installation of Grub “rescue”<br>environment.</li>
</ul>
</li>
</ul>
<p>Instructions for Windows bootloader dual-boot:</p>
<ol>
<li>The script assumes a default installation, with a small boot<br>partition as partition 1 and Windows <code>C:</code> on partition 2.  All<br>other partitions must be 3 or higher.  Configurations that do not<br>match this will require minor edits to the script, and a fresh<br>build of the output directory.</li>
<li>Copy the output directory to <code>C:\gary-os.grub</code>, or wherever the<br>script has been modified to point to.</li>
<li>Run the <code>bcdedit.bat</code> script as Administrator.  Running this script<br>without Administrator privileges can cause unexpected and/or<br>undesired results.  The <code>bcdedit.guid.txt</code> file that is created is<br>necessary for automatic removal of the created boot entry.</li>
<li>Place the GaryOS files at these locations:<ul>
<li><code>C:\gary-os-64.kernel</code></li>
<li><code>C:\gary-os-32.kernel</code></li>
</ul>
</li>
<li>Use the new option in the Windows bootloader to switch to Grub and<br>boot GaryOS (or other OSes/objects bootable by Grub).  Doing<br>nothing will boot into Windows as usual.</li>
<li>Simply update the GaryOS files in-place to upgrade.</li>
<li>Run the <code>bcdedit.bat</code> script as Administrator to remove from the<br>Windows bootloader configuration.  The directory and files created<br>in <code>C:</code> need to be removed manually.</li>
</ol>
<p>If the <code>bcdedit.guid.txt</code> file is lost, or otherwise becomes out of<br>date with the bootloader database, use the <code>bcdedit</code> command as<br>Administrator to remove the unwanted entries:</p>
<ol>
<li>Run <code>cmd</code> as Administrator.</li>
<li>Run <code>bcdedit</code> to view the bootloader database.  Copy the<br><code>identifier</code> field for each GaryOS entry.</li>
<li>Run <code>bcdedit /delete {identifier} /cleanup</code> for each entry.  Note<br>that the <code>{identifier}</code> should be replaced with the full string<br>output in #2 above, including the <code>{}</code> markers.<ul>
<li>e.g. <code>bcdedit /delete {02a0fce9-68f5-11e3-aa07-e94d28b95f82}
/cleanup</code></li>
</ul>
</li>
</ol>
<h2 id="Grub_Rescue">Grub Rescue</h2><ul>
<li>Definition:<ul>
<li>Boot into a mostly complete Grub environment directly from the<br>boot record without requiring any additional files from disk.</li>
<li>Create a Grub “core.img” which can be booted using identical<br>methods and options as GaryOS, such as PXE, Qemu, etc.</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>Tested in place of GaryOS with both Qemu and PXE.<ul>
<li>For details on PXE, see the <a href="#pxe-boot">PXE Boot</a> section below.</li>
</ul>
</li>
<li>Grub: sys-boot/grub-2.02_beta2-r3</li>
</ul>
</li>
<li>Research and development:<ul>
<li><a href="https://www.gnu.org/software/grub/manual/grub.html#BIOS-installation" target="_blank" rel="external">https://www.gnu.org/software/grub/manual/grub.html#BIOS-installation</a><ul>
<li><a href="https://www.gnu.org/software/grub/manual/grub.html#Images" target="_blank" rel="external">https://www.gnu.org/software/grub/manual/grub.html#Images</a></li>
</ul>
</li>
<li><a href="http://lukeluo.blogspot.com/2013/06/grub-how-to-4-memdisk-and-loopback.html" target="_blank" rel="external">http://lukeluo.blogspot.com/2013/06/grub-how-to-4-memdisk-and-loopback.html</a></li>
<li><a href="http://wiki.osdev.org/GRUB_2#Disk_image_instructions" target="_blank" rel="external">http://wiki.osdev.org/GRUB_2#Disk_image_instructions</a></li>
</ul>
</li>
</ul>
<p>For convenience and supportability, this case has also been automated in<br>the <code>grub.sh</code> script.  The <code>gary-os.grub.*</code> file in the root download<br>directory contains an archive of the output of this script.  However,<br>for this case the script will need to be run locally.  The <a href="#windows-dual-boot">Windows<br>Dual-Boot</a> section above has more details on the <code>grub.sh</code> script and<br>its usage and output.</p>
<p>Instructions for Grub “rescue” image installation to hard disk:</p>
<ol>
<li>Create an empty working directory:<ul>
<li>e.g. <code>mkdir /tmp/grub</code></li>
</ul>
</li>
<li>Change into the working directory:<ul>
<li>e.g. <code>cd /tmp/grub</code></li>
</ul>
</li>
<li>Run the <code>grub.sh</code> script with a block device argument:<ul>
<li>e.g. <code>grub.sh /dev/sda</code></li>
</ul>
</li>
<li>The script will create necessary files in the working directory,<br>and then uses <code>grub-bios-setup</code> to install the custom-built<br>“core.img” into the boot record.</li>
<li>The block device can now be booted directly into a Grub environment<br>which does not require any access to disk for its modules or<br>configuration.<ul>
<li><strong>The working directory is no longer needed and can be deleted.</strong></li>
</ul>
</li>
<li>To remove, simply re-install Grub using <code>grub-install</code> as usual, or<br>install another bootloader.</li>
</ol>
<h2 id="PXE_Boot">PXE Boot</h2><ul>
<li>Definition:<ul>
<li>Boot from a PXE environment.</li>
<li>With some modification of the Funtoo/Gentoo configuration and<br>package list, this Metro automation can be used to create a lab<br>workstation or other automated environment where a reboot<br>completely resets each machine involved.</li>
</ul>
</li>
<li>Last tested with:<ul>
<li>GaryOS v3.0</li>
<li>DHCPd: net-misc/dhcp-4.2.5_p1-r2</li>
<li>TFTPd: net-misc/iputils-20121221-r2</li>
<li>iPXE: sys-firmware/ipxe-1.0.0_p20130624-r2</li>
</ul>
</li>
<li>Research and development:<ul>
<li><a href="https://wiki.archlinux.org/index.php/archboot#PXE_booting_.2F_Rescue_system" target="_blank" rel="external">https://wiki.archlinux.org/index.php/archboot#PXE<em>booting</em>.2F_Rescue_system</a></li>
</ul>
</li>
</ul>
<p>Once you have a functioning PXE environment, on a global or per-host<br>basis add the following configuration option to <code>dhcpd.conf</code>:</p>
<ul>
<li><code>filename &quot;gary-os-[...].kernel&quot;;</code></li>
</ul>
<hr>
<h6 id="End_Of_File">End Of File</h6>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://0.0.0.0:4000/projects/gary-os/README.html" data-id="cig08cmpy0006rmj5t51bwegp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">						Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/07/14/Test-poster/">Test poster</a>
          </li>
        
          <li>
            <a href="/2015/07/14/Test-post/">Test post</a>
          </li>
        
          <li>
            <a href="/2015/06/14/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2015/04/16/2015/2015-05-15T08-20-46-0700/">Imagination</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">					Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Gary-B-Genett/" style="font-size: 10px;">Gary B. Genett</a> <a href="/tags/test/" style="font-size: 20px;">test</a> <a href="/tags/testing/" style="font-size: 15px;">testing</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">							Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gary-B-Genett/">Gary B. Genett</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/test/">test</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/testing/">testing</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">					Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Quotes/">Quotes</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/test/">test</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/test/testing/">testing</a><span class="category-list-count">1</span></li></ul></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">						Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Gary B. Genett<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br /><br /> <a rel="author" href="http://www.garybgenett.net">					<img src="http://www.garybgenett.net/favicon.png"					alt="Gary B. Genett"	style="border:0; width:31px; height:31px;"/></a> <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/us/">	<img src="http://i.creativecommons.org/l/by-nc-nd/3.0/us/88x31.png"			alt="CC License"	style="border:0; width:88px; height:31px;"/></a> <a href="http://validator.w3.org/check/referer">					<img src="http://www.w3.org/Icons/valid-xhtml11-blue"					alt="Valid HTML"	style="border:0; width:88px; height:31px;"/></a> <a href="http://jigsaw.w3.org/css-validator/check/referer">				<img src="http://www.w3.org/Icons/valid-css2-blue"					alt="Valid CSS"	style="border:0; width:88px; height:31px;"/></a> <br /> <a href="https://github.com/garybgenett/composer">					<img src="https://raw.githubusercontent.com/garybgenett/composer/devel/icon.png"	alt="Composer"	style="border:0; width:31px; height:31px;"/></a> <a href="http://www.vim.org">								<img src="http://www.vim.org/images/vim_small.gif"					alt="Vim"		style="border:0; width:31px; height:31px;"/></a> <a href="http://git-scm.com">								<img src="https://git.wiki.kernel.org/images-git/d/df/FrontPage%24git-logo.png"	alt="Git"		style="border:0; width:72px; height:27px;"/></a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/Test-page" class="mobile-nav-link">Testing</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>